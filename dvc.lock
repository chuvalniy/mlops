schema: '2.0'
stages:
  clean_data:
    cmd: python src/data/clean_data.py data/raw/smoking_driking_dataset_Ver01.csv
      data/interim/cleaned_data.csv
    deps:
    - path: data/raw/smoking_driking_dataset_Ver01.csv
      hash: md5
      md5: 1b1b7bb3e3f428c250798d7e53fc5ec4
      size: 109561668
    - path: src/data/clean_data.py
      hash: md5
      md5: 01e66663bb3ad85f197b205ba8ffdfc6
      size: 1417
    outs:
    - path: data/interim/cleaned_data.csv
      hash: md5
      md5: 08e265a99c3e4c4fd2f847bf00d2952b
      size: 139502223
  one_hot_encode_data:
    cmd: python src/data/encode_data.py data/interim/cleaned_data.csv data/processed/processed_data.csv
    deps:
    - path: data/interim/cleaned_data.csv
      hash: md5
      md5: 08e265a99c3e4c4fd2f847bf00d2952b
      size: 139502223
    - path: src/data/encode_data.py
      hash: md5
      md5: fe9e6cdce97cbae6fe6d1e60356fec0b
      size: 1145
    outs:
    - path: data/processed/processed_data.csv
      hash: md5
      md5: 21f9311b7e6ad03a03d7f4afe004b604
      size: 141346346
  prepare_datasets:
    cmd: python src/models/prepare_datasets.py data/processed/processed_data.csv data/processed/train.csv
      data/processed/val.csv
    deps:
    - path: data/processed/processed_data.csv
      hash: md5
      md5: 21f9311b7e6ad03a03d7f4afe004b604
      size: 141346346
    - path: src/models/prepare_datasets.py
      hash: md5
      md5: f35ce787c87de2a7512f6ae49909cf19
      size: 898
    outs:
    - path: data/processed/train.csv
      hash: md5
      md5: 7a9b2d0dd53df9b1ef3f275e4b0eb6d3
      size: 98942079
    - path: data/processed/val.csv
      hash: md5
      md5: 1232743cceca92a94c7cb8df4be322c5
      size: 42404616
  train_model:
    cmd: python src/models/train_model.py data/processed/train.csv data/processed/val.csv
      reports/metrics.json models/model.clf
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 7a9b2d0dd53df9b1ef3f275e4b0eb6d3
      size: 98942079
    - path: data/processed/val.csv
      hash: md5
      md5: 1232743cceca92a94c7cb8df4be322c5
      size: 42404616
    - path: src/models/train_model.py
      hash: md5
      md5: 7a3d79d59b5f09d08bd56f7b7caf5fed
      size: 2967
    outs:
    - path: models/model.clf
      hash: md5
      md5: 190844586e567e022872590f4fbd63e2
      size: 41785
    - path: reports/metrics.json
      hash: md5
      md5: c915a17964a61d1951e92d1567797dd9
      size: 77
